import requests as requests


class HttpClient:
    def __init__(self, url):
        self.url = url

    def _get_decoded(self, raw_resp): # private member function to handle after getting response
        if raw_resp.status_code == 200:
            resp = raw_resp.content.decode(encoding='utf-8')
            return resp
        else:
            raise ValueError('Response is not ok')

    def getHello(self): # dummy function
        raw_resp = requests.get(self.url)
        return self._get_decoded(raw_resp)

    def sendIp(self): # sending IP to server
        raw_resp = requests.get(self.url + 'sendIp')
        return self._get_decoded(raw_resp)


c = HttpClient('http://localhost:5000/')
print(c.getHello())
print(c.sendIp())

